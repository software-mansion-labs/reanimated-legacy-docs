"use strict";(self.webpackChunkreact_native_reanimated_docs=self.webpackChunkreact_native_reanimated_docs||[]).push([[7652],{5197:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const r={id:"withRepeat",title:"withRepeat",sidebar_label:"withRepeat"},o=void 0,l={unversionedId:"api/animations/withRepeat",id:"api/animations/withRepeat",title:"withRepeat",description:"Repeats the provided animation several times.",source:"@site/docs/api/animations/withRepeat.md",sourceDirName:"api/animations",slug:"/api/animations/withRepeat",permalink:"/react-native-reanimated/docs/api/animations/withRepeat",draft:!1,tags:[],version:"current",frontMatter:{id:"withRepeat",title:"withRepeat",sidebar_label:"withRepeat"},sidebar:"docs",previous:{title:"withDelay",permalink:"/react-native-reanimated/docs/api/animations/withDelay"},next:{title:"withSequence",permalink:"/react-native-reanimated/docs/api/animations/withSequence"}},p={},c=[{value:"Arguments",id:"arguments",level:3},{value:"<code>animation</code> animation",id:"animation-animation",level:4},{value:"<code>numberOfReps</code> number (default: <code>2</code>)",id:"numberofreps-number-default-2",level:4},{value:"<code>reverse</code> bool (default: <code>false</code>)",id:"reverse-bool-default-false",level:4},{value:"<code>callback</code> function(optional)",id:"callback-functionoptional",level:4},{value:"Returns",id:"returns",level:3},{value:"Example",id:"example",level:2}],s={toc:c};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Repeats the provided animation several times."),(0,i.kt)("h3",{id:"arguments"},"Arguments"),(0,i.kt)("h4",{id:"animation-animation"},(0,i.kt)("inlineCode",{parentName:"h4"},"animation")," ","[animation]"),(0,i.kt)("p",null,"The animation that will be repeated."),(0,i.kt)("h4",{id:"numberofreps-number-default-2"},(0,i.kt)("inlineCode",{parentName:"h4"},"numberOfReps")," ","[number]"," (default: ",(0,i.kt)("inlineCode",{parentName:"h4"},"2"),")"),(0,i.kt)("p",null,"Number of repetitions that the animation is going to be run for.\nWhen negative, the animation will be repeated forever (until the shared value is torn down or the animation is cancelled)."),(0,i.kt)("h4",{id:"reverse-bool-default-false"},(0,i.kt)("inlineCode",{parentName:"h4"},"reverse")," ","[bool]"," (default: ",(0,i.kt)("inlineCode",{parentName:"h4"},"false"),")"),(0,i.kt)("p",null,"Specify whether we should attempt to reverse the animation every other repetition.\nWhen ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),", this will cause the animation to run from the current value to the destination, after that the same animation will run in the reverse direction.\nNote that this option will only work when the provided animation is a plain, non-modified animation like ",(0,i.kt)("a",{parentName:"p",href:"/react-native-reanimated/docs/api/animations/withTiming"},(0,i.kt)("inlineCode",{parentName:"a"},"withTiming"))," or ",(0,i.kt)("a",{parentName:"p",href:"/react-native-reanimated/docs/api/animations/withSpring"},(0,i.kt)("inlineCode",{parentName:"a"},"withSpring")),".\nThe option is not supported for animation wrapped using other animation modifiers like ",(0,i.kt)("inlineCode",{parentName:"p"},"withDelay")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"withSequence"),"."),(0,i.kt)("h4",{id:"callback-functionoptional"},(0,i.kt)("inlineCode",{parentName:"h4"},"callback")," ","[function]","(","optional",")"),(0,i.kt)("p",null,"This function will be called when all repetitions of the provided animation are complete or when ",(0,i.kt)("inlineCode",{parentName:"p"},"withRepeat")," is cancelled.\nIn case the animation is cancelled, the callback will receive ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," as the argument, otherwise it will receive ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,i.kt)("h3",{id:"returns"},"Returns"),(0,i.kt)("p",null,"This method returns an animation object. It can be either assigned directly to a Shared Value or can be used as a value for a style object returned from ",(0,i.kt)("a",{parentName:"p",href:"/react-native-reanimated/docs/api/hooks/useAnimatedStyle"},(0,i.kt)("inlineCode",{parentName:"a"},"useAnimatedStyle")),"."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("p",null,"The provided shared value will animate from its current value to 70 using a timing animation, and then back to the original value."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"sharedValue.value = withRepeat(withTiming(70), 2, true);\n")),(0,i.kt)("p",null,"One more example with callbacks:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"sharedValue.value = withRepeat(\n  withTiming(70, undefined, (finished, currentValue) => {\n    if (finished) {\n      console.log('current withRepeat value is ' + currentValue);\n    } else {\n      console.log('inner animation cancelled');\n    }\n  }),\n  10,\n  true,\n  (finished) => {\n    const resultStr = finished\n      ? 'All repeats are completed'\n      : 'withRepeat cancelled';\n    console.log(resultStr);\n  }\n);\n")),(0,i.kt)("p",null,"The callback passed to the inner animation(here ",(0,i.kt)("inlineCode",{parentName:"p"},"withTiming"),") will be called on every repeat. The first argument tells us whether the animation finished or was cancelled. The second one hold animation's current value(when the animation has been cancelled it is ",(0,i.kt)("inlineCode",{parentName:"p"},"undefined"),").\nThe callback passed to ",(0,i.kt)("inlineCode",{parentName:"p"},"withRepeat")," is called in the end when animation is finished or cancelled with ",(0,i.kt)("inlineCode",{parentName:"p"},"finished")," set accordingly."))}d.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=i,h=u["".concat(p,".").concat(m)]||u[m]||d[m]||r;return n?a.createElement(h,o(o({ref:t},s),{},{components:n})):a.createElement(h,o({ref:t},s))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);